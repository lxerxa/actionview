webpackJsonp([14],{20:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=[{value:"Integer",label:"整数字段"},{value:"Number",label:"数值字段"},{value:"Text",label:"文本框单行"},{value:"TextArea",label:"文本框多行"},{value:"RichTextEditor",label:"富文本"},{value:"Select",label:"选择列表(单行)"},{value:"MultiSelect",label:"选择列表(多行)"},{value:"CheckboxGroup",label:"复选按钮"},{value:"RadioGroup",label:"单选按钮"},{value:"DatePicker",label:"日期选择控件"},{value:"DateTimePicker",label:"日期时间选择控件"},{value:"TimeTracking",label:"时间跟踪"},{value:"File",label:"文件"},{value:"SingleVersion",label:"单一版本选择"},{value:"MultiVersion",label:"多版本选择"},{value:"SingleUser",label:"单一用户选择"},{value:"MultiUser",label:"多用户选择"},{value:"Url",label:"URL"}];t.FieldTypes=e;var n=[{id:"new",name:"新建"},{id:"inprogress",name:"进行中"},{id:"completed",name:"完成"}];t.StateCategories=n;var r={project:[{id:"view_project",name:"查看项目"},{id:"manage_project",name:"管理项目"}],issue:[{id:"create_issue",name:"创建问题"},{id:"edit_issue",name:"编辑问题"},{id:"edit_self_issue",name:"编辑自己创建的问题"},{id:"delete_issue",name:"删除问题"},{id:"delete_self_issue",name:"删除自己创建的问题"},{id:"assign_issue",name:"分配问题"},{id:"assigned_issue",name:"被分配问题"},{id:"resolve_issue",name:"解决问题"},{id:"close_issue",name:"关闭问题"},{id:"reset_issue",name:"重置问题"},{id:"link_issue",name:"链接问题"},{id:"move_issue",name:"移动问题"},{id:"exec_workflow",name:"执行流程"}],comments:[{id:"add_comments",name:"添加评论"},{id:"edit_comments",name:"编辑评论"},{id:"edit_self_comments",name:"编辑自己的评论"},{id:"delete_comments",name:"删除评论"},{id:"delete_self_comments",name:"删除自己的评论"}],worklogs:[{id:"add_worklog",name:"添加工作日志"},{id:"edit_worklog",name:"编辑工作日志"},{id:"edit_self_worklog",name:"编辑自己的工作日志"},{id:"delete_worklog",name:"删除工作日志"},{id:"delete_self_worklog",name:"删除自己的工作日志"}],files:[{id:"upload_file",name:"上传附件"},{id:"download_file",name:"下载附件"},{id:"remove_file",name:"删除附件"},{id:"remove_self_file",name:"删除自己上传附件"}]};t.Permissions=r;var o=[{id:"create_issue",name:"创建问题"},{id:"edit_issue",name:"编辑问题"},{id:"del_issue",name:"删除问题"},{id:"resolve_issue",name:"解决问题"},{id:"close_issue",name:"关闭问题"},{id:"reopen_issue",name:"重新打开问题"},{id:"create_version",name:"创建版本"},{id:"edit_version",name:"编辑版本"},{id:"release_version",name:"发布版本"},{id:"merge_version",name:"合并版本"},{id:"del_version",name:"删除版本"},{id:"add_worklog",name:"添加工作日志"},{id:"edit_worklog",name:"编辑工作日志"}];t.webhookEvents=o;var a={CARD:"card",KANBAN_COLUMN:"kanban_column",KANBAN_FILTER:"kanban_filter"};t.CardTypes=a;var i=["#CCCCCC","#B3B3B3","#999999","#A4DD00","#68BC00","#006600","#73D8FF","#009CE0","#0062B1","#FCDC00","#FCC400","#FB9E00","#FE9200","#E27300","#C45100","#F44E3B","#D33115","#9F0500"];t.PriorityRGBs=i;var l=["#CCCCCC","#B3B3B3","#999999","#808080","#666666","#FDA1FF","#FA28FF","#AB149E","#AEA1FF","#7B64FF","#653294","#73D8FF","#009CE0","#0062B1","#68CCCA","#16A5A5","#0C797D","#A4DD00","#68BC00","#006600","#DBDF00","#B0BC00","#808900","#FCDC00","#FCC400","#FB9E00","#FE9200","#E27300","#C45100","#F44E3B","#D33115","#9F0500","#4D4D4D","#333333","#000000"];t.LabelRGBs=l;var s=660;t.DetailMinWidth=s;var u=1e3;t.DetailMaxWdith=u}).call(this)}finally{}},30:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(15),d=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={visible:!1},this.timer=null,this.scrollToTop=this.scrollToTop.bind(this)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.visibilityHeight,n=void 0===t?400:t,r=c(".doc-container");r.unbind("scroll").scroll(function(){var t=r.scrollTop();e.setState({visible:t>n})})}},{key:"componentWillUnmount",value:function(){c(".doc-container").unbind("scroll")}},{key:"scrollToTop",value:function(){var e=this,t=c(".doc-container"),n=50*(parseInt(t.scrollTop()/1e3)+1);cancelAnimationFrame(this.timer),this.timer=requestAnimationFrame(function r(){var o=t.scrollTop();o>0?(t.scrollTop(o-n>0?o-n:0),e.timer=requestAnimationFrame(r)):cancelAnimationFrame(e.timer)})}},{key:"render",value:function(){var e=this.state.visible,t=void 0!==e&&e;return u.default.createElement("div",{id:"backtop",className:"back-top",style:{visibility:t&&"visible"||"hidden"},onClick:this.scrollToTop},u.default.createElement("div",{className:"back-top-content"},u.default.createElement("div",{className:"back-top-icon"})))}}],[{key:"propTypes",value:{visibilityHeight:s.PropTypes.number},enumerable:!0}]),t}(s.Component);t.default=d,e.exports=t.default}).call(this)}finally{}},41:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxGroup=t.Checkbox=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),l=r(i);t.Checkbox=l.default.createClass({displayName:"Checkbox",contextTypes:{checkboxGroup:l.default.PropTypes.object.isRequired},componentWillMount:function(){if(!this.context||!this.context.checkboxGroup)throw new Error("The `Checkbox` component must be used as a child of `CheckboxGroup`.")},render:function(){var e=this.context.checkboxGroup,t=e.name,n=e.checkedValues,r=e.onChange,o={};return n&&(o.checked=n.indexOf(this.props.value)>=0),"function"==typeof r&&(o.onChange=r.bind(null,this.props.value)),l.default.createElement("input",a({},this.props,{type:"checkbox",name:t},o))}}),t.CheckboxGroup=l.default.createClass({displayName:"CheckboxGroup",propTypes:{name:i.PropTypes.string,defaultValue:i.PropTypes.array,value:i.PropTypes.array,onChange:i.PropTypes.func,children:i.PropTypes.node.isRequired,Component:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.func,i.PropTypes.object])},getDefaultProps:function(){return{Component:"div"}},childContextTypes:{checkboxGroup:l.default.PropTypes.object},getChildContext:function(){return{checkboxGroup:{name:this.props.name,checkedValues:this.state.value,onChange:this._onCheckboxChange}}},getInitialState:function(){return{value:this.props.value||this.props.defaultValue||[]}},componentWillReceiveProps:function(e){e.value&&this.setState({value:e.value})},render:function(){var e=this.props,t=e.Component,n=(e.name,e.value,e.onChange,e.children),r=o(e,["Component","name","value","onChange","children"]);return l.default.createElement(t,r,n)},getValue:function(){return this.state.value},_isControlledComponent:function(){return!!this.props.value},_onCheckboxChange:function(e,t){var n;n=t.target.checked?this.state.value.concat(e):this.state.value.filter(function(t){return t!==e}),this._isControlledComponent()?this.setState({value:this.props.value}):this.setState({value:n}),"function"==typeof this.props.onChange&&this.props.onChange(n)}})},595:function(e,t,n){try{(function(){"use strict";function e(e){return(0,f.asyncFuncCreator)({constant:"ROLE_INDEX",promise:function(t){return t.request({url:"/project/"+e+"/role"})}})}function r(e){return(0,f.asyncFuncCreator)({constant:"ROLE_TEAM_INDEX",promise:function(t){return t.request({url:"/project/"+e+"/team"})}})}function o(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_CREATE",promise:function(n){return n.request({url:"/project/"+e+"/role",method:"post",data:t})}})}function a(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_UPDATE",promise:function(n){return n.request({url:"/project/"+e+"/role/"+t.id,method:"put",data:t})}})}function i(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_SET_PERMISSIONS",promise:function(n){return n.request({url:"/project/"+e+"/role/"+t.id+"/permissions",method:"post",data:t})}})}function l(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_SET_ACTOR",promise:function(n){return n.request({url:"/project/"+e+"/role/"+t.id+"/actor",method:"post",data:t})}})}function s(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_SET_GROUP_ACTOR",promise:function(n){return n.request({url:"/project/"+e+"/role/"+t.id+"/groupactor",method:"post",data:t})}})}function u(e){return{type:"ROLE_SELECT",id:e}}function c(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_DELETE",id:t,promise:function(n){return n.request({url:"/project/"+e+"/role/"+t,method:"delete"})}})}function d(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_RESET",id:t,promise:function(n){return n.request({url:"/project/"+e+"/role/"+t+"/reset"})}})}function p(e,t){return(0,f.asyncFuncCreator)({constant:"ROLE_VIEW_USED",id:t,promise:function(n){return n.request({url:"/project/"+e+"/role/"+t+"/used"})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.index=e,t.teamIndex=r,t.create=o,t.update=a,t.setPermission=i,t.setActor=l,t.setGroupActor=s,t.select=u,t.del=c,t.reset=d,t.viewUsed=p;var f=n(27)}).call(this)}finally{}},1968:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(8),d=n(2),p=n(41),f=n(3),m=r(f),h=n(5),y=n(20),v=n(4),b=function(e){function t(e){var t=this;o(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={ecode:0},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this),this.allPermissions=[],m.default.forEach(y.Permissions,function(e){t.allPermissions=t.allPermissions.concat(e)})}a(t,e),i(t,[{key:"handleSubmit",value:function(){var e,t,n,r,o,a;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.values,n=e.setPermission,r=e.data,o=e.close,i.next=7,regeneratorRuntime.awrap(n(m.default.assign({},t,{id:r.id})));case 7:a=i.sent,0===a?(this.setState({ecode:0}),o(),h.notify.show("设置完成。","success",2e3)):this.setState({ecode:a});case 9:case"end":return i.stop()}},null,this)}},{key:"handleCancel",value:function(){var e=this.props,t=e.close,n=e.submitting;n||(this.setState({ecode:0}),t())}},{key:"componentWillMount",value:function(){var e=this.props,t=e.initializeForm,n=e.data;t(n)}},{key:"rows",value:function r(e){for(var r=[],t=0;t<e.length;t+=2)r.push(u.default.createElement("li",null,u.default.createElement("div",{style:{width:"50%",display:"inline-block"}},u.default.createElement("label",{style:{fontWeight:400}},u.default.createElement(p.Checkbox,{value:e[t].id}),u.default.createElement("span",null," ",e[t].name||""))),u.default.createElement("div",{style:{width:"50%",display:"inline-block"}},u.default.createElement("label",{style:{fontWeight:400}},e[t+1]&&u.default.createElement(p.Checkbox,{value:e[t+1].id}),u.default.createElement("span",null," ",e[t+1]&&e[t+1].name||"")))));return r}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n.errMsg,r=t.fields.permissions,o=t.handleSubmit,a=t.submitting,i=t.data;return u.default.createElement(d.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(d.Modal.Header,{closeButton:!0},u.default.createElement(d.Modal.Title,{id:"contained-modal-title-la"},"权限配置 - ",i.name)),u.default.createElement("form",{onSubmit:o(this.handleSubmit),onKeyDown:function(e){13==e.keyCode&&e.preventDefault()}},u.default.createElement(d.Modal.Body,{style:{maxHeight:"580px",overflow:"auto"}},u.default.createElement(d.FormGroup,{controlId:"formControlsText"},u.default.createElement(p.CheckboxGroup,{name:"permissions",value:r.value||[],onChange:function(e){r.onChange(e)},style:{marginLeft:"10px"}},u.default.createElement(d.ControlLabel,null,"项目"),u.default.createElement("ui",{className:"list-unstyled clearfix"},this.rows(y.Permissions.project)),u.default.createElement(d.ControlLabel,{style:{marginTop:"10px",marginBottom:"0px"}},"问题"),u.default.createElement("ui",{className:"list-unstyled clearfix"},this.rows(y.Permissions.issue)),u.default.createElement(d.ControlLabel,{style:{marginTop:"10px",marginBottom:"0px"}},"附件"),u.default.createElement("ui",{className:"list-unstyled clearfix"},this.rows(y.Permissions.files)),u.default.createElement(d.ControlLabel,{style:{marginTop:"10px",marginBottom:"0px"}},"评论"),u.default.createElement("ui",{className:"list-unstyled clearfix"},this.rows(y.Permissions.comments)),u.default.createElement(d.ControlLabel,{style:{marginTop:"10px",marginBottom:"0px"}},"工作日志"),u.default.createElement("ui",{className:"list-unstyled clearfix"},this.rows(y.Permissions.worklogs))))),u.default.createElement(d.Modal.Footer,null,u.default.createElement(d.Checkbox,{checked:r.value&&this.allPermissions.length==r.value.length,onClick:function(){e.allPermissions.length===r.value.length?r.onChange([]):r.onChange(m.default.map(e.allPermissions,function(e){return e.id}))},style:{"float":"left",margin:"5px 5px"}},"全部选择"),u.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&!a&&n[this.state.ecode]),u.default.createElement("img",{src:v,className:a?"loading":"hide"}),u.default.createElement(d.Button,{disabled:a,type:"submit"},"确定"),u.default.createElement(d.Button,{bsStyle:"link",disabled:a,onClick:this.handleCancel},"取消"))))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,data:s.PropTypes.object.isRequired,submitting:s.PropTypes.bool,values:s.PropTypes.object,fields:s.PropTypes.object,handleSubmit:s.PropTypes.func.isRequired,initializeForm:s.PropTypes.func.isRequired,close:s.PropTypes.func.isRequired,setPermission:s.PropTypes.func.isRequired},enumerable:!0}]);var n=t;return t=(0,c.reduxForm)({form:"permissions",fields:["permissions"]})(t)||t}(s.Component);t.default=b,e.exports=t.default}).call(this)}finally{}},1969:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{actions:(0,m.bindActionCreators)(y,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},d=n(1),p=o(d),f=n(22),m=n(23),h=n(595),y=r(h),v=n(1973),b=n(1974),g=function(e){function t(e){a(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.pid=""}i(t,e),u(t,[{key:"index",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.props.actions.index(this.pid));case 2:return e.abrupt("return",this.props.role.ecode);case 3:case"end":return e.stop()}},null,this)}},{key:"create",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.create(this.pid,e));case 2:return t.abrupt("return",this.props.role.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"update",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.update(this.pid,e));case 2:return t.abrupt("return",this.props.role.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"setPermission",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.setPermission(this.pid,e));case 2:return t.abrupt("return",this.props.role.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"reset",value:function(e){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.props.actions,n.next=3,regeneratorRuntime.awrap(t.reset(this.pid,e));case 3:return n.abrupt("return",this.props.role.ecode);case 4:case"end":return n.stop()}},null,this)}},{key:"del",value:function(e){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.props.actions,n.next=3,regeneratorRuntime.awrap(t.del(this.pid,e));case 3:return n.abrupt("return",this.props.role.ecode);case 4:case"end":return n.stop()}},null,this)}},{key:"viewUsed",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.viewUsed(this.pid,e));case 2:return t.abrupt("return",this.props.role.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"componentWillMount",value:function(){var e=this.props.location.pathname,t=void 0===e?"":e;if(/^\/admin\/scheme/.test(t))this.pid="$_sys_$";else{var n=this.props.params.key;this.pid=n}}},{key:"render",value:function(){var e=this.props.location.pathname,t=void 0===e?"":e;return p.default.createElement("div",null,p.default.createElement(v,s({isSysConfig:/^\/admin\/scheme/.test(t),create:this.create.bind(this),i18n:this.props.i18n},this.props.role)),p.default.createElement(b,s({pkey:this.pid,index:this.index.bind(this),select:this.props.actions.select,update:this.update.bind(this),setPermission:this.setPermission.bind(this),reset:this.reset.bind(this),del:this.del.bind(this),delNotify:this.props.actions.delNotify,viewUsed:this.viewUsed.bind(this),i18n:this.props.i18n},this.props.role)))}}],[{key:"propTypes",value:{actions:d.PropTypes.object.isRequired,location:d.PropTypes.object.isRequired,params:d.PropTypes.object.isRequired,i18n:d.PropTypes.object.isRequired,role:d.PropTypes.object.isRequired},enumerable:!0}]);var n=t;return t=(0,f.connect)(function(e){var t=e.i18n,n=e.role;return{i18n:t,role:n}},l)(t)||t}(d.Component);t.default=g,e.exports=t.default}).call(this)}finally{}},1970:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},u=n(1),c=r(u),d=n(8),p=n(2),f=n(7),m=(r(f),n(3)),h=(r(m),n(38)),y=(r(h),n(5)),v=n(4),b=function(e){var t={};return e.name||(t.name="Required"),t},g=function(e){function t(e){o(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={ecode:0},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}a(t,e),l(t,[{key:"handleSubmit",value:function(){var e,t,n,r,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.values,n=e.create,r=e.close,a.next=6,regeneratorRuntime.awrap(n(t));case 6:o=a.sent,0===o?(this.setState({ecode:0}),r(),y.notify.show("新建完成。","success",2e3)):this.setState({ecode:o});case 8:case"end":return a.stop()}},null,this)}},{key:"handleCancel",value:function(){var e=this.props,t=e.close,n=e.submitting;n||(this.setState({ecode:0}),t())}},{key:"render",value:function(){var e=this.props,t=e.i18n.errMsg,n=e.fields,r=n.name,o=n.description,a=(e.values,e.handleSubmit),l=e.invalid,s=e.submitting;return c.default.createElement(p.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},c.default.createElement(p.Modal.Header,{closeButton:!0},c.default.createElement(p.Modal.Title,{id:"contained-modal-title-la"},"创建新角色")),c.default.createElement("form",{onSubmit:a(this.handleSubmit),onKeyDown:function(e){13==e.keyCode&&e.preventDefault()}},c.default.createElement(p.Modal.Body,null,c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"角色名"),c.default.createElement(p.FormControl,i({disabled:s,type:"text"},r,{placeholder:"角色名"}))),c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,"描述"),c.default.createElement(p.FormControl,i({disabled:s,type:"text"},o,{placeholder:"描述"})))),c.default.createElement(p.Modal.Footer,null,c.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&!s&&t[this.state.ecode]),c.default.createElement("img",{src:v,className:s?"loading":"hide"}),c.default.createElement(p.Button,{disabled:s||l,type:"submit"},"确定"),c.default.createElement(p.Button,{bsStyle:"link",disabled:s,onClick:this.handleCancel},"取消"))))}}],[{key:"propTypes",value:{i18n:u.PropTypes.object.isRequired,submitting:u.PropTypes.bool,invalid:u.PropTypes.bool,values:u.PropTypes.object,fields:u.PropTypes.object,handleSubmit:u.PropTypes.func.isRequired,close:u.PropTypes.func.isRequired,resetForm:u.PropTypes.func.isRequired,create:u.PropTypes.func.isRequired},enumerable:!0}]);var n=t;return t=(0,d.reduxForm)({form:"role",fields:["name","description"],validate:b})(t)||t}(u.Component);t.default=g,e.exports=t.default}).call(this)}finally{}},1971:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(2),d=n(5),p=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.confirm=this.confirm.bind(this),this.cancel=this.cancel.bind(this)}return a(t,e),i(t,[{key:"confirm",value:function(){var e,t,n,r,o,a,i,l;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=this.props,t=e.close,n=e.del,r=void 0===n?null:n,o=e.reset,a=void 0===o?null:o,i=e.data,l=0,t(),!a){s.next=16;break}return s.next=12,regeneratorRuntime.awrap(a(i.id));case 12:l=s.sent,0===l?d.notify.show("重置完成。","success",2e3):d.notify.show("重置失败。","error",2e3),s.next=20;break;case 16:return s.next=18,regeneratorRuntime.awrap(r(i.id));case 18:l=s.sent,0===l?d.notify.show("删除完成。","success",2e3):d.notify.show("删除失败。","error",2e3);case 20:case"end":return s.stop()}},null,this)}},{key:"cancel",value:function(){var e=this.props.close;e()}},{key:"render",value:function(){var e=this.props,t=e.reset,n=void 0===t?null:t,r=(e.del,e.data);return u.default.createElement(c.Modal,{show:!0,onHide:this.cancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,{id:"contained-modal-title-la"},n?"重置":"删除","角色 - ",r.name)),u.default.createElement(c.Modal.Body,null,n?"确认要重置此角色的权限？":"确认要删除此角色？"),u.default.createElement(c.Modal.Footer,null,u.default.createElement(c.Button,{onClick:this.confirm},"确定"),u.default.createElement(c.Button,{bsStyle:"link",onClick:this.cancel},"取消")))}}],[{key:"propTypes",value:{close:s.PropTypes.func.isRequired,reset:s.PropTypes.func,del:s.PropTypes.func,data:s.PropTypes.object.isRequired},enumerable:!0}]),t}(s.Component);t.default=p,e.exports=t.default}).call(this)}finally{}},1972:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},u=n(1),c=r(u),d=n(8),p=n(2),f=n(7),m=(r(f),n(3)),h=(r(m),n(5)),y=n(4),v=function(e){var t={};return e.name||(t.name="Required"),t},b=function(e){function t(e){o(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={ecode:0},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.initializeForm,n=e.data;t(n)}},{key:"handleSubmit",value:function(){var e,t,n,r,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.values,n=e.update,r=e.close,a.next=6,regeneratorRuntime.awrap(n(t));case 6:o=a.sent,0===o?(this.setState({ecode:0}),r(),h.notify.show("更新完成。","success",2e3)):this.setState({ecode:o});case 8:case"end":return a.stop()}},null,this)}},{key:"handleCancel",value:function(){var e=this.props,t=e.close,n=e.submitting;n||(this.setState({ecode:0}),t())}},{key:"render",value:function(){var e=this.props,t=e.i18n.errMsg,n=e.fields,r=n.id,o=n.name,a=n.description,l=e.handleSubmit,s=e.invalid,u=e.dirty,d=e.submitting,f=e.data;return c.default.createElement(p.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},c.default.createElement(p.Modal.Header,{closeButton:!0},c.default.createElement(p.Modal.Title,{id:"contained-modal-title-la"},"编辑角色 - "+f.name)),c.default.createElement("form",{onSubmit:l(this.handleSubmit),onKeyDown:function(e){13==e.keyCode&&e.preventDefault()}},c.default.createElement(p.Modal.Body,null,c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"角色名"),c.default.createElement(p.FormControl,i({type:"hidden"},r)),c.default.createElement(p.FormControl,i({disabled:d,type:"text"},o,{placeholder:"角色名"}))),c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,"描述"),c.default.createElement(p.FormControl,i({disabled:d,type:"text"},a,{placeholder:"描述"})))),c.default.createElement(p.Modal.Footer,null,c.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&!d&&t[this.state.ecode]),c.default.createElement("img",{src:y,className:d?"loading":"hide"}),c.default.createElement(p.Button,{disabled:!u||d||s,type:"submit"},"确定"),c.default.createElement(p.Button,{bsStyle:"link",disabled:d,onClick:this.handleCancel},"取消"))))}}],[{key:"propTypes",value:{i18n:u.PropTypes.object.isRequired,submitting:u.PropTypes.bool,invalid:u.PropTypes.bool,dirty:u.PropTypes.bool,values:u.PropTypes.object,fields:u.PropTypes.object,handleSubmit:u.PropTypes.func.isRequired,close:u.PropTypes.func.isRequired,data:u.PropTypes.object.isRequired,initializeForm:u.PropTypes.func.isRequired,update:u.PropTypes.func.isRequired},enumerable:!0}]);var n=t;return t=(0,d.reduxForm)({form:"role",fields:["id","name","description"],validate:v})(t)||t}(u.Component);t.default=b,e.exports=t.default}).call(this)}finally{}},1973:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{
"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(2),d=n(3),p=r(d),f=n(1970),m=(n(4),function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={createModalShow:!1},this.createModalClose=this.createModalClose.bind(this)}return a(t,e),i(t,[{key:"createModalClose",value:function(){this.setState({createModalShow:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.isSysConfig,o=t.create,a=t.collection;p.default.findIndex(a,{"default":!0})||0;return u.default.createElement("div",null,u.default.createElement("div",{style:{marginTop:"5px"}},u.default.createElement(c.Button,{className:"create-btn",onClick:function(){e.setState({createModalShow:!0})}},u.default.createElement("i",{className:"fa fa-plus"})," 新建角色")),u.default.createElement("div",{className:"info-col"},u.default.createElement("div",{className:"info-icon"},u.default.createElement("i",{className:"fa fa-info-circle"})),r&&u.default.createElement("div",{className:"info-content"},"只能删除在项目中未生效的角色。"),!r&&u.default.createElement("div",{className:"info-content"},"若权限配置修改后，用户权限没有生效，请刷新页面。")),this.state.createModalShow&&u.default.createElement(f,{show:!0,close:this.createModalClose,create:o,i18n:n}))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,isSysConfig:s.PropTypes.bool.isRequired,create:s.PropTypes.func.isRequired,collection:s.PropTypes.array.isRequired},enumerable:!0}]),t}(s.Component));t.default=m,e.exports=t.default}).call(this)}finally{}},1974:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(31),d=n(2),p=n(7),f=(r(p),n(3)),m=r(f),h=(n(5),n(20)),y=n(1975),v=n(1972),b=n(1968),g=n(1971),E=n(30),w=n(4),C=function(e){function t(e){var n=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={editModalShow:!1,delNotifyShow:!1,viewUsedShow:!1,resetNotifyShow:!1,operateShow:!1,hoverRowId:""},this.allPermissions=[],m.default.forEach(h.Permissions,function(e){n.allPermissions=n.allPermissions.concat(e)}),this.editModalClose=this.editModalClose.bind(this),this.configModalClose=this.configModalClose.bind(this),this.delNotifyClose=this.delNotifyClose.bind(this),this.resetNotifyClose=this.resetNotifyClose.bind(this),this.viewUsedClose=this.viewUsedClose.bind(this)}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props.index;e()}},{key:"editModalClose",value:function(){this.setState({editModalShow:!1})}},{key:"configModalClose",value:function(){this.setState({configModalShow:!1})}},{key:"delNotifyClose",value:function(){this.setState({delNotifyShow:!1})}},{key:"resetNotifyClose",value:function(){this.setState({resetNotifyShow:!1})}},{key:"viewUsedClose",value:function(){this.setState({viewUsedShow:!1})}},{key:"operateSelect",value:function(e){var t=this.state.hoverRowId,n=this.props.select;n(t),"1"===e?this.setState({editModalShow:!0}):"2"===e?this.setState({delNotifyShow:!0}):"3"===e?this.setState({resetNotifyShow:!0}):"4"===e?this.setState({viewUsedShow:!0}):"5"===e&&this.setState({configModalShow:!0})}},{key:"onRowMouseOver",value:function(e){e.id!==this.state.hoverRowId&&this.setState({operateShow:!0,hoverRowId:e.id})}},{key:"onMouseLeave",value:function(){this.setState({operateShow:!1,hoverRowId:""})}},{key:"classifyPermissions",value:function(e){var t=[],n=[{key:"project",name:"项目"},{key:"issue",name:"问题"},{key:"files",name:"附件"},{key:"comments",name:"评论"},{key:"worklogs",name:"工作日志"}];return m.default.forEach(n,function(n){var r=m.default.filter(h.Permissions[n.key],function(t){return m.default.findIndex(e,{id:t.id})!==-1});if(!(r.length<=0)){var o=u.default.createElement("li",{style:{display:"table",marginBottom:"5px"}},u.default.createElement("div",{style:{marginLeft:"5px"}},n.name),m.default.map(r,function(e){return u.default.createElement("div",{style:{"float":"left",margin:"0px 3px 6px 3px"}},u.default.createElement(d.Label,{style:{color:"#007eff",border:"1px solid #c2e0ff",backgroundColor:"#ebf5ff",fontWeight:"normal"},key:e.id},e.name))}));t.push(o)}}),u.default.createElement("ul",{style:{marginBottom:"0px",paddingLeft:"0px",listStyle:"none"}},t.length<=0?"-":t)}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.i18n,r=t.pkey,o=t.collection,a=t.selectedItem,i=t.loading,l=t.indexLoading,s=t.itemLoading,p=t.del,f=t.reset,h=t.update,C=t.setPermission,P=t.viewUsed,_=t.usedProjects,T=this.state,O=(T.willSetPermissionRoleIds,T.settingPermissionRoleIds,this.state),k=O.hoverRowId,x=O.operateShow,j=u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-cog"})),R=[],S=o.length,M=function(t){var n="$_sys_$"!==r&&"$_sys_$"===o[t].project_key,i=m.default.filter(e.allPermissions,function(e){return m.default.indexOf(o[t].permissions||[],e.id)!==-1});R.push({id:o[t].id,name:u.default.createElement("div",null,u.default.createElement("span",{className:"table-td-title"},o[t].name,n&&u.default.createElement("span",{style:{fontWeight:"normal"}}," (全局)")),o[t].description&&u.default.createElement("span",{className:"table-td-desc"},o[t].description)),permissions:u.default.createElement("div",{style:{display:"table",width:"100%"}},i.length>0?e.classifyPermissions(i):u.default.createElement("span",null,u.default.createElement("div",{style:{display:"inline-block",margin:"3px 3px 6px 3px"}},"-"))),operation:u.default.createElement("div",null,x&&k===o[t].id&&!s&&u.default.createElement(d.DropdownButton,{pullRight:!0,bsStyle:"link",style:{textDecoration:"blink",color:"#000"},key:t,title:j,id:"dropdown-basic-"+t,onSelect:e.operateSelect.bind(e)},!n&&u.default.createElement(d.MenuItem,{eventKey:"1"},"编辑"),u.default.createElement(d.MenuItem,{eventKey:"5"},"配置"),"$_sys_$"===r&&u.default.createElement(d.MenuItem,{eventKey:"4"},"查看项目应用"),!n&&!o[t].is_used&&u.default.createElement(d.MenuItem,{eventKey:"2"},"删除"),n&&u.default.createElement(d.MenuItem,{eventKey:"3"},"重置权限")),u.default.createElement("img",{src:w,className:s&&a.id===o[t].id?"loading":"hide"}))})},F=0;F<S;F++)M(F);var q={};return l?q.noDataText=u.default.createElement("div",null,u.default.createElement("img",{src:w,className:"loading"})):q.noDataText="暂无数据显示。",q.onRowMouseOver=this.onRowMouseOver.bind(this),u.default.createElement("div",{style:{marginBottom:"30px"}},u.default.createElement(E,null),u.default.createElement(c.BootstrapTable,{data:R,bordered:!1,hover:!0,options:q,trClassName:"tr-top"},u.default.createElement(c.TableHeaderColumn,{dataField:"id",isKey:!0,hidden:!0},"ID"),u.default.createElement(c.TableHeaderColumn,{dataField:"name",width:"300"},"角色"),u.default.createElement(c.TableHeaderColumn,{dataField:"permissions"},"权限集"),u.default.createElement(c.TableHeaderColumn,{width:"60",dataField:"operation"})),!l&&o.length>0&&u.default.createElement("div",{className:"page-footer"},u.default.createElement("span",null,"共计 ",o.length," 个。")),this.state.editModalShow&&u.default.createElement(v,{show:!0,close:this.editModalClose,update:h,data:a,i18n:n}),this.state.delNotifyShow&&u.default.createElement(g,{show:!0,close:this.delNotifyClose,data:a,del:p}),this.state.viewUsedShow&&u.default.createElement(y,{show:!0,close:this.viewUsedClose,view:P,loading:i,data:a,projects:_,i18n:n}),this.state.resetNotifyShow&&u.default.createElement(g,{show:!0,close:this.resetNotifyClose,data:a,reset:f}),this.state.configModalShow&&u.default.createElement(b,{show:!0,data:a,close:this.configModalClose,setPermission:C,i18n:n}))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,pkey:s.PropTypes.string.isRequired,collection:s.PropTypes.array.isRequired,selectedItem:s.PropTypes.object.isRequired,loading:s.PropTypes.bool.isRequired,itemLoading:s.PropTypes.bool.isRequired,indexLoading:s.PropTypes.bool.isRequired,index:s.PropTypes.func.isRequired,select:s.PropTypes.func.isRequired,update:s.PropTypes.func.isRequired,setPermission:s.PropTypes.func.isRequired,reset:s.PropTypes.func.isRequired,viewUsed:s.PropTypes.func.isRequired,usedProjects:s.PropTypes.array.isRequired,del:s.PropTypes.func.isRequired},enumerable:!0}]),t}(s.Component);t.default=C,e.exports=t.default}).call(this)}finally{}},1975:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(1),u=r(s),c=n(2),d=n(21),p=n(3),f=r(p),m=n(4),h=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleCancel=this.handleCancel.bind(this)}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.view,n=e.data;t(n.id)}},{key:"handleCancel",value:function(){var e=this.props.close;e()}},{key:"render",value:function(){var e=this.props,t=e.projects,n=e.data,r=e.loading;return u.default.createElement(c.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,{id:"contained-modal-title-la"},"查看项目应用 - "+n.name)),u.default.createElement(c.Modal.Body,{style:{height:"420px",overflow:"auto"}},r&&u.default.createElement("div",{style:{marginTop:"150px",textAlign:"center"}},u.default.createElement("img",{src:m,className:"loading"})),!r&&u.default.createElement("div",{style:{marginBottom:"10px"}},t.length>0?u.default.createElement("span",null,"共有应用项目 ",u.default.createElement("strong",null,t.length)," 个"):u.default.createElement("span",null,"暂无项目应用")),!r&&t.length>0&&u.default.createElement(c.Table,{condensed:!0,hover:!0,responsive:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"项目名称"))),u.default.createElement("tbody",null,f.default.map(t,function(e,t){return u.default.createElement("tr",{key:t},u.default.createElement("td",null,"active"===e.status?u.default.createElement("span",null,u.default.createElement(d.Link,{to:"/project/"+e.key+"/team"},e.name)):u.default.createElement("span",null,e.name,"(已关闭)")))})))),u.default.createElement(c.Modal.Footer,null,u.default.createElement(c.Button,{onClick:this.handleCancel},"关闭")))}}],[{key:"propTypes",value:{close:s.PropTypes.func.isRequired,view:s.PropTypes.func.isRequired,loading:s.PropTypes.bool.isRequired,data:s.PropTypes.object.isRequired,projects:s.PropTypes.array.isRequired},enumerable:!0}]),t}(s.Component);t.default=h,e.exports=t.default}).call(this)}finally{}}});
//# sourceMappingURL=role-78d786ab55e573352ea9.js.map