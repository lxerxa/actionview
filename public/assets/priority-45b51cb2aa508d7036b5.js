webpackJsonp([18],{19:function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=[{value:"Integer",label:"整数字段"},{value:"Number",label:"数值字段"},{value:"Text",label:"文本框单行"},{value:"TextArea",label:"文本框多行"},{value:"RichTextEditor",label:"富文本"},{value:"Select",label:"选择列表(单行)"},{value:"MultiSelect",label:"选择列表(多行)"},{value:"CheckboxGroup",label:"复选按钮"},{value:"RadioGroup",label:"单选按钮"},{value:"DatePicker",label:"日期选择控件"},{value:"DateTimePicker",label:"日期时间选择控件"},{value:"TimeTracking",label:"时间跟踪"},{value:"File",label:"文件"},{value:"SingleVersion",label:"单一版本选择"},{value:"MultiVersion",label:"多版本选择"},{value:"SingleUser",label:"单一用户选择"},{value:"MultiUser",label:"多用户选择"},{value:"Url",label:"URL"}];t.FieldTypes=e;var r=[{id:"new",name:"新建"},{id:"inprogress",name:"进行中"},{id:"completed",name:"完成"}];t.StateCategories=r;var n={project:[{id:"view_project",name:"查看项目"},{id:"manage_project",name:"管理项目"}],issue:[{id:"create_issue",name:"创建问题"},{id:"edit_issue",name:"编辑问题"},{id:"edit_self_issue",name:"编辑自己创建的问题"},{id:"delete_issue",name:"删除问题"},{id:"delete_self_issue",name:"删除自己创建的问题"},{id:"assign_issue",name:"分配问题"},{id:"assigned_issue",name:"被分配问题"},{id:"resolve_issue",name:"解决问题"},{id:"close_issue",name:"关闭问题"},{id:"reset_issue",name:"重置问题"},{id:"link_issue",name:"链接问题"},{id:"move_issue",name:"移动问题"},{id:"exec_workflow",name:"执行流程"}],comments:[{id:"add_comments",name:"添加评论"},{id:"edit_comments",name:"编辑评论"},{id:"edit_self_comments",name:"编辑自己的评论"},{id:"delete_comments",name:"删除评论"},{id:"delete_self_comments",name:"删除自己的评论"}],worklogs:[{id:"add_worklog",name:"添加工作日志"},{id:"edit_worklog",name:"编辑工作日志"},{id:"edit_self_worklog",name:"编辑自己的工作日志"},{id:"delete_worklog",name:"删除工作日志"},{id:"delete_self_worklog",name:"删除自己的工作日志"}],files:[{id:"upload_file",name:"上传附件"},{id:"download_file",name:"下载附件"},{id:"remove_file",name:"删除附件"},{id:"remove_self_file",name:"删除自己上传附件"}]};t.Permissions=n;var o=[{id:"create_issue",name:"创建问题"},{id:"edit_issue",name:"编辑问题"},{id:"del_issue",name:"删除问题"},{id:"resolve_issue",name:"解决问题"},{id:"close_issue",name:"关闭问题"},{id:"reopen_issue",name:"重新打开问题"},{id:"create_version",name:"创建版本"},{id:"edit_version",name:"编辑版本"},{id:"release_version",name:"发布版本"},{id:"merge_version",name:"合并版本"},{id:"del_version",name:"删除版本"},{id:"add_worklog",name:"添加工作日志"},{id:"edit_worklog",name:"编辑工作日志"}];t.webhookEvents=o;var a={CARD:"card",KANBAN_COLUMN:"kanban_column",KANBAN_FILTER:"kanban_filter"};t.CardTypes=a;var i=["#CCCCCC","#B3B3B3","#999999","#A4DD00","#68BC00","#006600","#73D8FF","#009CE0","#0062B1","#FCDC00","#FCC400","#FB9E00","#FE9200","#E27300","#C45100","#F44E3B","#D33115","#9F0500"];t.PriorityRGBs=i;var l=["#CCCCCC","#B3B3B3","#999999","#808080","#666666","#FDA1FF","#FA28FF","#AB149E","#AEA1FF","#7B64FF","#653294","#73D8FF","#009CE0","#0062B1","#68CCCA","#16A5A5","#0C797D","#A4DD00","#68BC00","#006600","#DBDF00","#B0BC00","#808900","#FCDC00","#FCC400","#FB9E00","#FE9200","#E27300","#C45100","#F44E3B","#D33115","#9F0500","#4D4D4D","#333333","#000000"];t.LabelRGBs=l;var s=600;t.DetailMinWidth=s;var u=1e3;t.DetailMaxWdith=u}).call(this)}finally{}},49:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(12),d=r(35),p=r(19),f={beginDrag:function(e){return{id:e.id,index:e.index}}},m={hover:function(e,t,r){var n=t.getItem().index,o=e.index;if(n!==o){var a=(0,c.findDOMNode)(r).getBoundingClientRect(),i=(a.bottom-a.top)/2,l=t.getClientOffset(),s=l.y-a.top;n<o&&s<i||n>o&&s>i||(e.moveCard(n,o),t.getItem().index=o)}}},h=function(e){function t(){o(this,r),l(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.isDragging,n=e.connectDragSource,o=e.connectDropTarget,a=e.deleteCard,i=r?0:1,l={"float":"right",cursor:"pointer"};return n(o(u.default.createElement("div",{style:{opacity:i},className:"dragcard"},t,!!a&&u.default.createElement("span",{style:l,onClick:a,title:"删除",className:"rm-icon"},u.default.createElement("i",{className:"fa fa-remove"})))))}}],[{key:"propTypes",value:{connectDragSource:s.PropTypes.func.isRequired,connectDropTarget:s.PropTypes.func.isRequired,index:s.PropTypes.number.isRequired,isDragging:s.PropTypes.bool.isRequired,id:s.PropTypes.any.isRequired,text:s.PropTypes.string.isRequired,deleteCard:s.PropTypes.func,moveCard:s.PropTypes.func.isRequired},enumerable:!0}]);var r=t;return t=(0,d.DragSource)(p.CardTypes.CARD,f,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(t)||t,t=(0,d.DropTarget)(p.CardTypes.CARD,m,function(e){return{connectDropTarget:e.dropTarget()}})(t)||t}(s.Component);t.default=h,e.exports=t.default}).call(this)}finally{}},116:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(2),d=r(56),p=n(d),f=r(35),m=r(86),h=n(m),y=r(3),v=n(y),b=r(49),g=n(b),E=r(5),C=r(4),w={width:"100%"},P=function(e){function t(e){o(this,r),l(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.moveCard=this.moveCard.bind(this),this.state={cards:[],ecode:0};for(var t=this.props.cards.length,n=0;n<t;n++)this.state.cards.push({id:this.props.cards[n].id,text:this.props.cards[n].name});this.state.strCards=JSON.stringify(this.state.cards)}a(t,e),i(t,[{key:"moveCard",value:function(e,t){var r=this.state.cards,n=r[e];this.setState((0,p.default)(this.state,{cards:{$splice:[[e,1],[t,0,n]]}}))}},{key:"save",value:function(){var e,t,r,n,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.close,r=e.setSort,n={sequence:v.default.map(this.state.cards,v.default.iteratee("id"))},a.next=6,regeneratorRuntime.awrap(r(n));case 6:o=a.sent,0===o?(this.setState({ecode:0}),t(),E.notify.show("保存完成。","success",2e3)):this.setState({ecode:o});case 8:case"end":return a.stop()}},null,this)}},{key:"cancel",value:function(){var e=this.props,t=e.close,r=e.sortLoading;r||t()}},{key:"render",value:function(){var e=this,t=this.state,r=t.cards,n=t.strCards,o=this.props,a=o.model,i=o.i18n.errMsg,l=o.sortLoading;return u.default.createElement(c.Modal,{show:!0,onHide:this.cancel.bind(this),backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,{id:"contained-modal-title-la"},"编辑"+a+"顺序")),u.default.createElement(c.Modal.Body,{style:{maxHeight:"420px",overflow:"auto"}},u.default.createElement("div",{style:{marginBottom:"8px"}},"通过上下拖拽改变显示顺序。"),u.default.createElement("div",{style:w},r.map(function(t,r){return u.default.createElement(g.default,{key:t.id,index:r,id:t.id,text:t.text,moveCard:e.moveCard})}))),u.default.createElement(c.Modal.Footer,null,u.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&i[this.state.ecode]),u.default.createElement("img",{src:C,className:l?"loading":"hide"}),u.default.createElement(c.Button,{disabled:l||n==JSON.stringify(r),onClick:this.save.bind(this)},"确定"),u.default.createElement(c.Button,{bsStyle:"link",disabled:l,onClick:this.cancel.bind(this)},"取消")))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,model:s.PropTypes.string.isRequired,cards:s.PropTypes.array,sortLoading:s.PropTypes.bool,setSort:s.PropTypes.func,close:s.PropTypes.func.isRequired},enumerable:!0}]);var r=t;return t=(0,f.DragDropContext)(h.default)(t)||t}(s.Component);t.default=P,e.exports=t.default}).call(this)}finally{}},1929:function(e,t,r){try{(function(){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{actions:(0,m.bindActionCreators)(y,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},d=r(1),p=o(d),f=r(21),m=r(22),h=r(2083),y=n(h),v=r(1933),b=r(1934),g=function(e){function t(e){a(this,r),c(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.pid=""}i(t,e),u(t,[{key:"index",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.props.actions.index(this.pid));case 2:return e.abrupt("return",this.props.priority.ecode);case 3:case"end":return e.stop()}},null,this)}},{key:"create",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.create(this.pid,e));case 2:return t.abrupt("return",this.props.priority.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"update",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.update(this.pid,e));case 2:return t.abrupt("return",this.props.priority.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"del",value:function(e){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t=this.props.actions,r.next=3,regeneratorRuntime.awrap(t.del(this.pid,e));case 3:return r.abrupt("return",this.props.priority.ecode);case 4:case"end":return r.stop()}},null,this)}},{key:"setSort",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.setSort(this.pid,e));case 2:return t.abrupt("return",this.props.priority.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"setDefault",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.setDefault(this.pid,e));case 2:return t.abrupt("return",this.props.priority.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"viewUsed",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.props.actions.viewUsed(this.pid,e));case 2:return t.abrupt("return",this.props.priority.ecode);case 3:case"end":return t.stop()}},null,this)}},{key:"componentWillMount",value:function(){var e=this.props.location.pathname,t=void 0===e?"":e;if(/^\/admin\/scheme/.test(t))this.pid="$_sys_$";else{var r=this.props.params.key;this.pid=r}}},{key:"render",value:function(){return p.default.createElement("div",null,p.default.createElement(v,s({setDefault:this.setDefault.bind(this),setSort:this.setSort.bind(this),create:this.create.bind(this),i18n:this.props.i18n},this.props.priority)),p.default.createElement(b,s({pkey:this.pid,index:this.index.bind(this),select:this.props.actions.select,update:this.update.bind(this),del:this.del.bind(this),delNotify:this.props.actions.delNotify,viewUsed:this.viewUsed.bind(this),i18n:this.props.i18n},this.props.priority)))}}],[{key:"propTypes",value:{actions:d.PropTypes.object.isRequired,location:d.PropTypes.object.isRequired,params:d.PropTypes.object.isRequired,i18n:d.PropTypes.object.isRequired,priority:d.PropTypes.object.isRequired},enumerable:!0}]);var r=t;return t=(0,f.connect)(function(e){var t=e.i18n,r=e.priority;return{i18n:t,priority:r}},l)(t)||t}(d.Component);t.default=g,e.exports=t.default}).call(this)}finally{}},1930:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},u=r(1),c=n(u),d=r(8),p=r(2),f=r(7),m=n(f),h=r(3),y=n(h),v=r(5),b=r(19),g=r(4),E=function(e,t){var r={};return e.name?y.default.findIndex(t.collection||[],{name:e.name})!==-1&&(r.name="该名称已存在"):r.name="必填",e.color||(r.color="必填"),r},C=function(e){function t(e){o(this,r),s(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={ecode:0,displayColorPicker:!1},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}a(t,e),l(t,[{key:"handleSubmit",value:function(){var e,t,r,n,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.values,r=e.create,n=e.close,a.next=6,regeneratorRuntime.awrap(r(t));case 6:o=a.sent,0===o?(this.setState({ecode:0}),n(),v.notify.show("新建完成。","success",2e3)):this.setState({ecode:o});case 8:case"end":return a.stop()}},null,this)}},{key:"handleCancel",value:function(){var e=this.props,t=e.close,r=e.submitting;r||(this.setState({ecode:0}),t())}},{key:"handlerHideColorPicker",value:function(){this.state.displayColorPicker&&this.setState({displayColorPicker:!1})}},{key:"handlerShowColorPicker",value:function(e){e.stopPropagation(),this.state.displayColorPicker||this.setState({displayColorPicker:!0})}},{key:"render",value:function(){var e=this.props,t=e.i18n.errMsg,r=e.fields,n=r.name,o=r.color,a=r.description,l=e.handleSubmit,s=e.invalid,u=e.submitting,d=y.default.map(b.PriorityRGBs,function(e){return{value:e,label:c.default.createElement("span",{className:"select-color",style:{marginTop:"7px",backgroundColor:e}})}});return c.default.createElement(p.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},c.default.createElement(p.Modal.Header,{closeButton:!0,onClick:this.handlerHideColorPicker.bind(this)},c.default.createElement(p.Modal.Title,{id:"contained-modal-title-la"},"创建优先级")),c.default.createElement("form",{onSubmit:l(this.handleSubmit),onKeyDown:function(e){13==e.keyCode&&e.preventDefault()}},c.default.createElement(p.Modal.Body,{onClick:this.handlerHideColorPicker.bind(this)},c.default.createElement(p.FormGroup,{controlId:"formControlsText",validationState:n.touched&&n.error?"error":null},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"名称"),c.default.createElement(p.FormControl,i({disabled:u,type:"text"},n,{placeholder:"优先级名"})),n.touched&&n.error&&c.default.createElement(p.HelpBlock,{style:{"float":"right"}},n.error)),c.default.createElement(p.FormGroup,{controlId:"formControlsText",validationState:o.touched&&o.error?"error":null},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"图案色"),c.default.createElement(m.default,{simpleValue:!0,disabled:u,options:d,clearable:!1,searchable:!1,value:o.value,onChange:function(e){o.onChange(e)},placeholder:"请选择背景色"})),c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,"描述"),c.default.createElement(p.FormControl,i({disabled:u,type:"text"},a,{placeholder:"描述"})))),c.default.createElement(p.Modal.Footer,{onClick:this.handlerHideColorPicker.bind(this)},c.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&!u&&t[this.state.ecode]),c.default.createElement("img",{src:g,className:u?"loading":"hide"}),c.default.createElement(p.Button,{disabled:u||s,type:"submit"},"确定"),c.default.createElement(p.Button,{bsStyle:"link",disabled:u,onClick:this.handleCancel},"取消"))))}}],[{key:"propTypes",value:{i18n:u.PropTypes.object.isRequired,submitting:u.PropTypes.bool,invalid:u.PropTypes.bool,values:u.PropTypes.object,fields:u.PropTypes.object,handleSubmit:u.PropTypes.func.isRequired,close:u.PropTypes.func.isRequired,create:u.PropTypes.func.isRequired},enumerable:!0}]);var r=t;return t=(0,d.reduxForm)({form:"priority",fields:["name","color","description"],validate:E})(t)||t}(u.Component);t.default=C,e.exports=t.default}).call(this)}finally{}},1931:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(2),d=r(5),p=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.confirm=this.confirm.bind(this),this.cancel=this.cancel.bind(this)}return a(t,e),i(t,[{key:"confirm",value:function(){var e,t,r,n,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.close,r=e.del,n=e.data,t(),a.next=7,regeneratorRuntime.awrap(r(n.id));case 7:o=a.sent,0===o?d.notify.show("删除完成。","success",2e3):d.notify.show("删除失败。","error",2e3);case 9:case"end":return a.stop()}},null,this)}},{key:"cancel",value:function(){var e=this.props.close;e()}},{key:"render",value:function(){var e=this.props.data;return u.default.createElement(c.Modal,{show:!0,onHide:this.cancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,{id:"contained-modal-title-la"},"删除优先级 - ",e.name)),u.default.createElement(c.Modal.Body,null,"确认要删除此优先级？"),u.default.createElement(c.Modal.Footer,null,u.default.createElement(c.Button,{onClick:this.confirm},"确定"),u.default.createElement(c.Button,{bsStyle:"link",onClick:this.cancel},"取消")))}}],[{key:"propTypes",value:{close:s.PropTypes.func.isRequired,del:s.PropTypes.func.isRequired,data:s.PropTypes.object.isRequired},enumerable:!0}]),t}(s.Component);t.default=p,e.exports=t.default}).call(this)}finally{}},1932:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},u=r(1),c=n(u),d=r(8),p=r(2),f=r(7),m=n(f),h=r(3),y=n(h),v=r(5),b=r(19),g=r(4),E=function(e,t){var r={};return e.name?t.data.name!==e.name&&y.default.findIndex(t.collection||[],{name:e.name})!==-1&&(r.name="该名称已存在"):r.name="必填",e.color||(r.color="必填"),r},C=function(e){function t(e){o(this,r),s(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={ecode:0,displayColorPicker:!1},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.initializeForm,r=e.data;t(r)}},{key:"handleSubmit",value:function(){var e,t,r,n,o;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.values,r=e.update,n=e.close,a.next=6,regeneratorRuntime.awrap(r(t));case 6:o=a.sent,0===o?(this.setState({ecode:0}),n(),v.notify.show("更新完成。","success",2e3)):this.setState({ecode:o});case 8:case"end":return a.stop()}},null,this)}},{key:"handleCancel",value:function(){var e=this.props,t=e.close,r=e.submitting;r||(this.setState({ecode:0}),t())}},{key:"handlerHideColorPicker",value:function(){this.state.displayColorPicker&&this.setState({displayColorPicker:!1})}},{key:"handlerShowColorPicker",value:function(e){e.stopPropagation(),this.state.displayColorPicker||this.setState({displayColorPicker:!0})}},{key:"render",value:function(){var e=this.props,t=e.i18n.errMsg,r=e.fields,n=r.id,o=r.name,a=r.color,l=r.description,s=e.handleSubmit,u=e.invalid,d=e.dirty,f=e.submitting,h=e.data,v=y.default.map(b.PriorityRGBs,function(e){return{value:e,label:c.default.createElement("span",{className:"select-color",style:{marginTop:"7px",backgroundColor:e}})}});return c.default.createElement(p.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},c.default.createElement(p.Modal.Header,{closeButton:!0,onClick:this.handlerHideColorPicker.bind(this),style:{background:"#f0f0f0",height:"50px"}},c.default.createElement(p.Modal.Title,{id:"contained-modal-title-la"},"编辑优先级 - "+h.name)),c.default.createElement("form",{onSubmit:s(this.handleSubmit),onKeyDown:function(e){13==e.keyCode&&e.preventDefault()}},c.default.createElement(p.Modal.Body,{onClick:this.handlerHideColorPicker.bind(this)},c.default.createElement(p.FormGroup,{controlId:"formControlsText",validationState:o.touched&&o.error?"error":null},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"名称"),c.default.createElement(p.FormControl,i({type:"hidden"},n)),c.default.createElement(p.FormControl,i({disabled:f,type:"text"},o,{placeholder:"优先级名"})),o.touched&&o.error&&c.default.createElement(p.HelpBlock,{style:{"float":"right"}},o.error)),c.default.createElement(p.FormGroup,{controlId:"formControlsText",validationState:a.touched&&a.error?"error":null},c.default.createElement(p.ControlLabel,null,c.default.createElement("span",{className:"txt-impt"},"*"),"图案色"),c.default.createElement(m.default,{simpleValue:!0,disabled:f,options:v,clearable:!1,searchable:!1,value:a.value,onChange:function(e){a.onChange(e)},placeholder:"请选择背景色"})),c.default.createElement(p.FormGroup,{controlId:"formControlsText"},c.default.createElement(p.ControlLabel,null,"描述"),c.default.createElement(p.FormControl,i({disabled:f,type:"text"},l,{placeholder:"描述"})))),c.default.createElement(p.Modal.Footer,{onClick:this.handlerHideColorPicker.bind(this)},c.default.createElement("span",{className:"ralign"},0!==this.state.ecode&&!f&&t[this.state.ecode]),c.default.createElement("img",{src:g,className:f?"loading":"hide"}),c.default.createElement(p.Button,{disabled:!d||f||u,type:"submit"},"确定"),c.default.createElement(p.Button,{bsStyle:"link",disabled:f,onClick:this.handleCancel},"取消"))))}}],[{key:"propTypes",value:{i18n:u.PropTypes.object.isRequired,submitting:u.PropTypes.bool,invalid:u.PropTypes.bool,dirty:u.PropTypes.bool,values:u.PropTypes.object,fields:u.PropTypes.object,handleSubmit:u.PropTypes.func.isRequired,close:u.PropTypes.func.isRequired,data:u.PropTypes.object.isRequired,initializeForm:u.PropTypes.func.isRequired,update:u.PropTypes.func.isRequired},enumerable:!0}]);var r=t;return t=(0,d.reduxForm)({form:"priority",fields:["id","name","color","description"],validate:E})(t)||t}(u.Component);t.default=C,e.exports=t.default}).call(this)}finally{}},1933:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(2),d=r(12),p=r(3),f=n(p),m=r(5),h=r(1930),y=r(116),v=r(4),b=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={createModalShow:!1,sortCardsModalShow:!1,defaultSetShow:!1},this.createModalClose=this.createModalClose.bind(this),this.sortCardsModalClose=this.sortCardsModalClose.bind(this),this.setDefaultValue=this.setDefaultValue.bind(this)}return a(t,e),i(t,[{key:"setDefaultValue",value:function(){var e,t,r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,d.findDOMNode)(this.refs.defaultValue).value,t=this.props.setDefault,n.next=4,regeneratorRuntime.awrap(t({defaultValue:e}));case 4:r=n.sent,0===r?m.notify.show("设置完成。","success",2e3):m.notify.show("设置失败。","error",2e3),this.setState({defaultSetShow:!1});case 7:case"end":return n.stop()}},null,this)}},{key:"createModalClose",value:function(){this.setState({createModalShow:!1})}},{key:"sortCardsModalClose",value:function(){this.setState({sortCardsModalShow:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.create,o=t.setSort,a=t.sortLoading,i=t.indexLoading,l=t.defaultLoading,s=t.collection,d=f.default.findIndex(s,{"default":!0});return u.default.createElement("div",null,u.default.createElement("div",{style:{marginTop:"5px"}},u.default.createElement(c.Button,{className:"create-btn",onClick:function(){e.setState({createModalShow:!0})},disabled:i},u.default.createElement("i",{className:"fa fa-plus"})," 新建优先级"),!i&&u.default.createElement(c.Button,{className:"create-btn",onClick:function(){e.setState({sortCardsModalShow:!0})}},u.default.createElement("i",{className:"fa fa-edit"})," 编辑顺序"),u.default.createElement("div",{className:i?"hide":"div-default-set"},u.default.createElement("span",{className:"default-set"},"默认优先级："),this.state.defaultSetShow?u.default.createElement("div",{className:"default-set"},u.default.createElement("div",{className:"edit-field-content"},u.default.createElement(c.FormControl,{componentClass:"select",type:"text",ref:"defaultValue",disabled:l},s.map(function(e){return u.default.createElement("option",{value:e.id,key:e.id,selected:e.default&&!0},e.name)}))),u.default.createElement("img",{src:v,className:l?"loading":"hide"}),u.default.createElement("div",{className:l?"hide":"edit-field-content edit-button-group"},u.default.createElement(c.Button,{className:"edit-ok-button",onClick:this.setDefaultValue},u.default.createElement("i",{className:"fa fa-check"})),u.default.createElement(c.Button,{className:"edit-cancel-button",onClick:function(){e.setState({defaultSetShow:!1})}},u.default.createElement("i",{className:"fa fa-close"})))):u.default.createElement("span",{className:"default-set editable-field"},u.default.createElement("span",{style:{paddingRight:"10px"}},s[d]?s[d].name:"无"),u.default.createElement(c.Button,{className:"edit-icon",onClick:function(){e.setState({defaultSetShow:!0
})}},u.default.createElement("i",{className:"fa fa-pencil"}))))),u.default.createElement("div",{className:"info-col"},u.default.createElement("div",{className:"info-icon"},u.default.createElement("i",{className:"fa fa-info-circle"})),u.default.createElement("div",{className:"info-content"},"只能删除没有应用到项目问题中的优先级。")),this.state.createModalShow&&u.default.createElement(h,{show:!0,close:this.createModalClose,create:n,collection:s,i18n:r}),this.state.sortCardsModalShow&&u.default.createElement(y,{show:!0,model:"优先级",close:this.sortCardsModalClose,cards:s,setSort:o,sortLoading:a,i18n:r}))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,create:s.PropTypes.func.isRequired,setSort:s.PropTypes.func.isRequired,indexLoading:s.PropTypes.bool.isRequired,sortLoading:s.PropTypes.bool.isRequired,defaultLoading:s.PropTypes.bool.isRequired,setDefault:s.PropTypes.func.isRequired,collection:s.PropTypes.array.isRequired},enumerable:!0}]),t}(s.Component);t.default=b,e.exports=t.default}).call(this)}finally{}},1934:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(29),d=r(2),p=r(1932),f=r(1931),m=r(1935),h=r(4),y=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={editModalShow:!1,delNotifyShow:!1,viewUsedShow:!1,operateShow:!1,hoverRowId:""},this.editModalClose=this.editModalClose.bind(this),this.delNotifyClose=this.delNotifyClose.bind(this),this.viewUsedClose=this.viewUsedClose.bind(this)}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props.index;e()}},{key:"editModalClose",value:function(){this.setState({editModalShow:!1})}},{key:"delNotifyClose",value:function(){this.setState({delNotifyShow:!1})}},{key:"edit",value:function(e){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:this.setState({editModalShow:!0}),t=this.props.select,t(e);case 3:case"end":return r.stop()}},null,this)}},{key:"delNotify",value:function(e){this.setState({delNotifyShow:!0});var t=this.props.select;t(e)}},{key:"viewUsedClose",value:function(){this.setState({viewUsedShow:!1})}},{key:"viewUsed",value:function(e){this.setState({viewUsedShow:!0});var t=this.props.select;t(e)}},{key:"operateSelect",value:function(e){var t=this.state.hoverRowId;"1"===e?this.edit(t):"2"===e?this.delNotify(t):"3"===e&&this.viewUsed(t)}},{key:"onRowMouseOver",value:function(e){e.id!==this.state.hoverRowId&&this.setState({operateShow:!0,hoverRowId:e.id})}},{key:"onMouseLeave",value:function(){this.setState({operateShow:!1,hoverRowId:""})}},{key:"render",value:function(){for(var e=this.props,t=e.i18n,r=e.pkey,n=e.collection,o=e.selectedItem,a=e.indexLoading,i=e.itemLoading,l=e.loading,s=e.del,y=e.update,v=e.usedProjects,b=e.viewUsed,g=this.state,E=g.hoverRowId,C=g.operateShow,w=u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-cog"})),P=[],k=n.length,_=0;_<k;_++){var T="$_sys_$"!==r&&"$_sys_$"===n[_].project_key;P.push({id:n[_].id,name:u.default.createElement("span",{className:"table-td-title"},n[_].name,T&&u.default.createElement("span",{style:{fontWeight:"normal"}}," (全局)"),n[_].default&&u.default.createElement("span",{style:{fontWeight:"normal"}}," (默认)")),color:u.default.createElement("div",{className:"circle",style:{backgroundColor:n[_].color||"#ccc"}}),description:n[_].description?n[_].description:"-",operation:T?u.default.createElement("div",null," "):u.default.createElement("div",null,C&&E===n[_].id&&!i&&u.default.createElement(d.DropdownButton,{pullRight:!0,bsStyle:"link",style:{textDecoration:"blink",color:"#000"},key:_,title:w,id:"dropdown-basic-"+_,onSelect:this.operateSelect.bind(this)},!n[_].key&&u.default.createElement(d.MenuItem,{eventKey:"1"},"编辑"),"$_sys_$"===r&&u.default.createElement(d.MenuItem,{eventKey:"3"},"查看项目应用"),!n[_].is_used&&u.default.createElement(d.MenuItem,{eventKey:"2"},"删除")),u.default.createElement("img",{src:h,className:i&&o.id===n[_].id?"loading":"hide"}))})}var O={};return a?O.noDataText=u.default.createElement("div",null,u.default.createElement("img",{src:h,className:"loading"})):O.noDataText="暂无数据显示。",O.onRowMouseOver=this.onRowMouseOver.bind(this),u.default.createElement("div",{style:{marginBottom:"30px"}},u.default.createElement(c.BootstrapTable,{data:P,bordered:!1,hover:!0,options:O,trClassName:"tr-middle"},u.default.createElement(c.TableHeaderColumn,{dataField:"id",isKey:!0,hidden:!0},"ID"),u.default.createElement(c.TableHeaderColumn,{dataField:"name"},"名称"),u.default.createElement(c.TableHeaderColumn,{width:"200",dataField:"color"},"图案"),u.default.createElement(c.TableHeaderColumn,{dataField:"description"},"描述"),u.default.createElement(c.TableHeaderColumn,{width:"60",dataField:"operation"})),this.state.editModalShow&&u.default.createElement(p,{show:!0,close:this.editModalClose,update:y,data:o,collection:n,i18n:t}),this.state.viewUsedShow&&u.default.createElement(m,{show:!0,close:this.viewUsedClose,view:b,loading:l,data:o,projects:v,i18n:t}),this.state.delNotifyShow&&u.default.createElement(f,{show:!0,close:this.delNotifyClose,data:o,del:s}))}}],[{key:"propTypes",value:{i18n:s.PropTypes.object.isRequired,pkey:s.PropTypes.string.isRequired,collection:s.PropTypes.array.isRequired,selectedItem:s.PropTypes.object.isRequired,loading:s.PropTypes.bool.isRequired,itemLoading:s.PropTypes.bool.isRequired,indexLoading:s.PropTypes.bool.isRequired,index:s.PropTypes.func.isRequired,select:s.PropTypes.func.isRequired,update:s.PropTypes.func.isRequired,viewUsed:s.PropTypes.func.isRequired,usedProjects:s.PropTypes.array.isRequired,del:s.PropTypes.func.isRequired},enumerable:!0}]),t}(s.Component);t.default=y,e.exports=t.default}).call(this)}finally{}},1935:function(e,t,r){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,r=i,n=!0,l=u=void 0}},s=r(1),u=n(s),c=r(2),d=r(20),p=r(3),f=n(p),m=r(4),h=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleCancel=this.handleCancel.bind(this)}return a(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.view,r=e.data;t(r.key||r.id)}},{key:"handleCancel",value:function(){var e=this.props.close;e()}},{key:"render",value:function(){var e=this.props,t=e.projects,r=e.data,n=e.loading;return u.default.createElement(c.Modal,{show:!0,onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,{id:"contained-modal-title-la"},"查看项目应用 - "+r.name)),u.default.createElement(c.Modal.Body,{style:{height:"420px",overflow:"auto"}},n&&u.default.createElement("div",{style:{marginTop:"150px",textAlign:"center"}},u.default.createElement("img",{src:m,className:"loading"})),!n&&u.default.createElement("div",{style:{marginBottom:"10px"}},t.length>0?u.default.createElement("span",null,"共有应用项目 ",u.default.createElement("strong",null,t.length)," 个"):u.default.createElement("span",null,"暂无项目应用")),!n&&t.length>0&&u.default.createElement(c.Table,{condensed:!0,hover:!0,responsive:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"项目名称"),u.default.createElement("th",null,"问题个数"))),u.default.createElement("tbody",null,f.default.map(t,function(e,t){return u.default.createElement("tr",{key:t},u.default.createElement("td",null,"active"===e.status?u.default.createElement("span",null,u.default.createElement(d.Link,{to:"/project/"+e.key},e.name)):u.default.createElement("span",null,e.name,"(已关闭)")),u.default.createElement("td",null,"active"===e.status?u.default.createElement("span",null,u.default.createElement(d.Link,{to:"/project/"+e.key+"/issue?priority="+(r.key||r.id)},e.issue_count||0)):u.default.createElement("span",null,e.issue_count||0)))})))),u.default.createElement(c.Modal.Footer,null,u.default.createElement(c.Button,{onClick:this.handleCancel},"关闭")))}}],[{key:"propTypes",value:{close:s.PropTypes.func.isRequired,view:s.PropTypes.func.isRequired,loading:s.PropTypes.bool.isRequired,data:s.PropTypes.object.isRequired,projects:s.PropTypes.array.isRequired},enumerable:!0}]),t}(s.Component);t.default=h,e.exports=t.default}).call(this)}finally{}},2083:function(e,t,r){try{(function(){"use strict";function e(e){return(0,c.asyncFuncCreator)({constant:"PRIORITY_INDEX",promise:function(t){return t.request({url:"/project/"+e+"/priority"})}})}function n(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_CREATE",promise:function(r){return r.request({url:"/project/"+e+"/priority",method:"post",data:t})}})}function o(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_UPDATE",promise:function(r){return r.request({url:"/project/"+e+"/priority/"+t.id,method:"put",data:t})}})}function a(e){return{type:"PRIORITY_SELECT",id:e}}function i(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_DELETE",id:t,promise:function(r){return r.request({url:"/project/"+e+"/priority/"+t,method:"delete"})}})}function l(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_SET_SORT",promise:function(r){return r.request({url:"/project/"+e+"/priority/batch",method:"post",data:t})}})}function s(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_SET_DEFAULT",promise:function(r){return r.request({url:"/project/"+e+"/priority/batch",method:"post",data:t})}})}function u(e,t){return(0,c.asyncFuncCreator)({constant:"PRIORITY_VIEW_USED",id:t,promise:function(r){return r.request({url:"/project/"+e+"/priority/"+t+"/used"})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.index=e,t.create=n,t.update=o,t.select=a,t.del=i,t.setSort=l,t.setDefault=s,t.viewUsed=u;var c=r(26)}).call(this)}finally{}}});
//# sourceMappingURL=priority-45b51cb2aa508d7036b5.js.map